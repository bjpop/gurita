<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>normtest &mdash; gurita  documentation</title>
      <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="_static/css/custom.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="outlier" href="outlier.html" />
    <link rel="prev" title="melt" href="melt.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="index.html" class="icon icon-home"> gurita
            <img src="_static/gurita_using_computer.png" class="logo" alt="Logo"/>
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Overview</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="index.html">Gurita: a command line data analytics and plotting tool</a></li>
<li class="toctree-l1"><a class="reference internal" href="license.html">License</a></li>
<li class="toctree-l1"><a class="reference internal" href="installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="example_input_data.html">Example input data</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">General behaviour</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="command_line_syntax.html">Command line syntax</a></li>
<li class="toctree-l1"><a class="reference internal" href="input_output.html">Input and output</a></li>
<li class="toctree-l1"><a class="reference internal" href="missing.html">Missing values</a></li>
<li class="toctree-l1"><a class="reference internal" href="plotting.html">Plotting</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="list_of_commands.html">List of commands</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="list_of_commands.html#reading-and-writing-data-from-to-files">Reading and writing data from/to files</a></li>
<li class="toctree-l2"><a class="reference internal" href="list_of_commands.html#plotting">Plotting</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="list_of_commands.html#transformation-and-analysis">Transformation and analysis</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="corr.html">corr</a></li>
<li class="toctree-l3"><a class="reference internal" href="cut.html">cut</a></li>
<li class="toctree-l3"><a class="reference internal" href="dropna.html">dropna</a></li>
<li class="toctree-l3"><a class="reference internal" href="eval.html">eval</a></li>
<li class="toctree-l3"><a class="reference internal" href="filter.html">filter</a></li>
<li class="toctree-l3"><a class="reference internal" href="gmm.html">gmm (Gaussian mixture model)</a></li>
<li class="toctree-l3"><a class="reference internal" href="groupby.html">groupby</a></li>
<li class="toctree-l3"><a class="reference internal" href="head.html">head</a></li>
<li class="toctree-l3"><a class="reference internal" href="kmeans.html">kmeans</a></li>
<li class="toctree-l3"><a class="reference internal" href="melt.html">melt</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">normtest</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#usage">Usage</a></li>
<li class="toctree-l4"><a class="reference internal" href="#arguments">Arguments</a></li>
<li class="toctree-l4"><a class="reference internal" href="#simple-example">Simple example</a></li>
<li class="toctree-l4"><a class="reference internal" href="#getting-help">Getting help</a></li>
<li class="toctree-l4"><a class="reference internal" href="#choose-columns-to-test-for-normality">Choose columns to test for normality</a></li>
<li class="toctree-l4"><a class="reference internal" href="#threshold-for-the-p-value">Threshold for the p-value</a></li>
<li class="toctree-l4"><a class="reference internal" href="#report-the-p-value-and-or-the-test-statistic-in-the-output">Report the p-value and/or the test statistic in the output</a></li>
<li class="toctree-l4"><a class="reference internal" href="#choose-the-method-for-testing-normality">Choose the method for testing normality</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="outlier.html">outlier</a></li>
<li class="toctree-l3"><a class="reference internal" href="pca.html">pca</a></li>
<li class="toctree-l3"><a class="reference internal" href="pivot.html">pivot</a></li>
<li class="toctree-l3"><a class="reference internal" href="sample.html">sample</a></li>
<li class="toctree-l3"><a class="reference internal" href="sort.html">sort</a></li>
<li class="toctree-l3"><a class="reference internal" href="tail.html">tail</a></li>
<li class="toctree-l3"><a class="reference internal" href="zscore.html">zscore</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="list_of_commands.html#summary-information">Summary information</a></li>
</ul>
</li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Development</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="contributing.html">Contributing</a></li>
<li class="toctree-l1"><a class="reference internal" href="bug_reports.html">Bug reports</a></li>
<li class="toctree-l1"><a class="reference internal" href="feature_requests.html">Feature requests</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">gurita</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
          <li><a href="list_of_commands.html">List of commands</a> &raquo;</li>
      <li>normtest</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/normtest.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="normtest">
<span id="id1"></span><h1>normtest<a class="headerlink" href="#normtest" title="Permalink to this headline"></a></h1>
<p>Test whether numerical columns differ from a normal distribution.</p>
<p>Specifically this command tests a null hypothesis that data comes from a normal distribution
and computes a p-value for that test.</p>
<p>If the p-value is less than or equal to some threshold for significance (e.g. p &lt;= 0.05) then the null-hypothesis can be rejected, concluding that the data is not likely to come from a normal
distribution.</p>
<p>Otherwise, if the p-value is greater than the threshold of significance (e.g. p &gt; 0.05) then we
cannot reject the null-hypothesis and we may conclude that the data likely comes from a normal
distribution.</p>
<section id="usage">
<h2>Usage<a class="headerlink" href="#usage" title="Permalink to this headline"></a></h2>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>gurita normtest [-h] [-c [COLUMN ...]] [-m {dagostino,shapiro}] [-a ALPHA] [-p] [-s]
</pre></div>
</div>
</section>
<section id="arguments">
<h2>Arguments<a class="headerlink" href="#arguments" title="Permalink to this headline"></a></h2>
<table class="colwidths-given tight-table docutils align-default">
<colgroup>
<col style="width: 45%" />
<col style="width: 36%" />
<col style="width: 18%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Argument</p></th>
<th class="head"><p>Description</p></th>
<th class="head"><p>Reference</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">-h</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">--help</span></code></p></li>
</ul>
</td>
<td><p>display help for this command</p></td>
<td><p><a class="reference internal" href="#normtest-help"><span class="std std-ref">help</span></a></p></td>
</tr>
<tr class="row-odd"><td><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">-c</span> <span class="pre">COLUMN</span> <span class="pre">[COLUMN...]</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">--columns</span> <span class="pre">COLUMN</span> <span class="pre">[COLUMN...]</span></code></p></li>
</ul>
</td>
<td><p>test these numerical columns</p></td>
<td><p><a class="reference internal" href="#normtest-columns"><span class="std std-ref">test specific columns</span></a></p></td>
</tr>
<tr class="row-even"><td><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">-a</span> <span class="pre">ALPHA</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">--alpha</span> <span class="pre">ALPHA</span></code></p></li>
</ul>
</td>
<td><p>threshold of significance</p></td>
<td><p><a class="reference internal" href="#normtest-threshold"><span class="std std-ref">threshold</span></a></p></td>
</tr>
<tr class="row-odd"><td><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">-p</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">--pvalue</span></code></p></li>
</ul>
</td>
<td><p>report p-value in output</p></td>
<td><p><a class="reference internal" href="#normtest-pvalue"><span class="std std-ref">p-value</span></a></p></td>
</tr>
<tr class="row-even"><td><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">-s</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">--stat</span></code></p></li>
</ul>
</td>
<td><p>report test statistic in output</p></td>
<td><p><a class="reference internal" href="#normtest-statistic"><span class="std std-ref">statistic</span></a></p></td>
</tr>
<tr class="row-odd"><td><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">-m</span> <span class="pre">{dagostino,shapiro}</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">--method</span> <span class="pre">{dagostino,shapiro}</span></code></p></li>
</ul>
</td>
<td><p>method for testing normality</p></td>
<td><p><a class="reference internal" href="#normtest-method"><span class="std std-ref">method</span></a></p></td>
</tr>
</tbody>
</table>
<p>By default <a class="reference external" href="https://en.wikipedia.org/wiki/D%27Agostino%27s_K-squared_test">D’Agostino’s K^2 test</a> is applied. However, it is also possible to use the <a class="reference external" href="https://en.wikipedia.org/wiki/Shapiro%E2%80%93Wilk_test">Shapiro-Wilk test</a> instead.</p>
<p>If no columns are specified Gurita will test all numerical columns in the dataset one at a time.</p>
<p>By default the p-value and test statistic are not included in the output, but this can be
overridden with the <code class="docutils literal notranslate"><span class="pre">-p/--pvalue</span></code> and <code class="docutils literal notranslate"><span class="pre">-s/--stat</span></code> arguments.</p>
</section>
<section id="simple-example">
<h2>Simple example<a class="headerlink" href="#simple-example" title="Permalink to this headline"></a></h2>
<p>The following example tests all the numerical columns in <code class="docutils literal notranslate"><span class="pre">iris.csv</span></code> independently to see if they each differ from the normal distribution.</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>gurita normtest &lt; iris.csv
</pre></div>
</div>
<p>The output of the above command is shown below:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>column,is_normal
sepal_length,True
sepal_width,True
petal_length,False
petal_width,False
</pre></div>
</div>
<p>The output contains two columns:</p>
<ol class="arabic simple">
<li><p><code class="docutils literal notranslate"><span class="pre">column</span></code>: this is the name of the numerical column of data being tested</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">is_normal</span></code>: a boolean value, True if the corresponding column is likely from a normal distribution and False otherwise.</p></li>
</ol>
<p>Looking at the above results we see that, under the default parameters of the test, <code class="docutils literal notranslate"><span class="pre">sepal_length</span></code> and <code class="docutils literal notranslate"><span class="pre">sepal_width</span></code> appear to be normal, but <code class="docutils literal notranslate"><span class="pre">petal_length</span></code> and <code class="docutils literal notranslate"><span class="pre">petal_width</span></code> do not appear to be normal.  Indeed, plotting the histogram for <code class="docutils literal notranslate"><span class="pre">petal_length</span></code> or <code class="docutils literal notranslate"><span class="pre">petal_width</span></code> suggests that they are multi-modal.</p>
<p>Note that <code class="docutils literal notranslate"><span class="pre">iris.csv</span></code> also contains a categoritcal column called <code class="docutils literal notranslate"><span class="pre">species</span></code>. The normality test
only applies to numerical columns, therefore non-numerical columns are ignored.</p>
</section>
<section id="getting-help">
<span id="normtest-help"></span><h2>Getting help<a class="headerlink" href="#getting-help" title="Permalink to this headline"></a></h2>
<p>The full set of command line arguments for <code class="docutils literal notranslate"><span class="pre">normtest</span></code> can be obtained with the <code class="docutils literal notranslate"><span class="pre">-h</span></code> or <code class="docutils literal notranslate"><span class="pre">--help</span></code>
arguments:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>gurita normtest -h
</pre></div>
</div>
</section>
<section id="choose-columns-to-test-for-normality">
<span id="normtest-columns"></span><h2>Choose columns to test for normality<a class="headerlink" href="#choose-columns-to-test-for-normality" title="Permalink to this headline"></a></h2>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>-c COLUMN [COLUMN...]
--column COLUMN [COLUMN...]
</pre></div>
</div>
<p>By default <code class="docutils literal notranslate"><span class="pre">normtest</span></code> will test all numerical columns for normality, however the <code class="docutils literal notranslate"><span class="pre">--column/-c</span></code> option allows you to test only specific columns.</p>
<p>For example the following command tests only the <code class="docutils literal notranslate"><span class="pre">sepal_length</span></code> column from the <code class="docutils literal notranslate"><span class="pre">iris.csv</span></code> dataset:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>gurita normtest -c sepal_length &lt; iris.csv
</pre></div>
</div>
<p>The output of the above command is as follows:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>column,is_normal
sepal_length,True
</pre></div>
</div>
<p>Multiple specific columns can be tested as the following example demonstrates:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>gurita normtest -c sepal_length petal_length &lt; iris.csv
</pre></div>
</div>
<p>The output of the above command is as follows:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>column,is_normal
sepal_length,True
petal_length,False
</pre></div>
</div>
<p>Note that non-numerical columns are ignored, even if they are specified using <code class="docutils literal notranslate"><span class="pre">--column/-c</span></code>.
For example the following command tries to test of the categorical <code class="docutils literal notranslate"><span class="pre">species</span></code> column is normal:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>gurita normtest -c species &lt; iris.csv
</pre></div>
</div>
<p>It is not logical to make this test, so the output of the command is just an empty dataset, with
only a header row and no data rows:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>column,is_normal
</pre></div>
</div>
</section>
<section id="threshold-for-the-p-value">
<span id="normtest-threshold"></span><h2>Threshold for the p-value<a class="headerlink" href="#threshold-for-the-p-value" title="Permalink to this headline"></a></h2>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>-a ALPHA
--alpha ALPHA
</pre></div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">normtest</span></code> command computes a p-value for the null-hypothesis that the data comes from
a normal distribution.</p>
<p>A threshold called <code class="docutils literal notranslate"><span class="pre">alpha</span></code> is applied to the p-value to decide whether or not the
data differs from a normal distrbution.</p>
<p>By default alpha is set to 0.05, as is often done by convention.</p>
<p>If the p-value is less than or equal to alpha, the null-hypothesis is rejected and we
conclude that the data differs from a normal distribution (i.e. the data is not normally distributed). Alternatively, if the p-value is greater than alpha then we cannot reject
the null-hypothesis, and therefore we conclude that the data does not differ from a normal
distrbution.</p>
<p>In summary:</p>
<ul class="simple">
<li><p>p-value &lt;= alpha: data <em>is not</em> normally distributed</p></li>
<li><p>p-value &gt; alpha: data <em>is</em> normally distributed</p></li>
</ul>
<p>The value of the <code class="docutils literal notranslate"><span class="pre">alpha</span></code> threshold can be adjusted using the <code class="docutils literal notranslate"><span class="pre">-a/--alpha</span></code> argument:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>gurita normtest --alpha 0.06 &lt; iris.csv
</pre></div>
</div>
<p>The above command produces the following output:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>column,is_normal
sepal_length,False
sepal_width,True
petal_length,False
petal_width,False
</pre></div>
</div>
<p>Note that the <code class="docutils literal notranslate"><span class="pre">sepal_length</span></code> column is no longer considered normally distributed when alpha is 0.06 (previously it was considered normal when alpha was equal to the defualt of 0.05). This suggests that the our confidence of <code class="docutils literal notranslate"><span class="pre">sepal_length</span></code> being normally distributed is not as strong as it is for
<code class="docutils literal notranslate"><span class="pre">sepal_width</span></code>.</p>
</section>
<section id="report-the-p-value-and-or-the-test-statistic-in-the-output">
<span id="normtest-statistic"></span><span id="normtest-pvalue"></span><h2>Report the p-value and/or the test statistic in the output<a class="headerlink" href="#report-the-p-value-and-or-the-test-statistic-in-the-output" title="Permalink to this headline"></a></h2>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>-p, --pvalue
-s, --stat
</pre></div>
</div>
<p>By default Gurita does not show the p-value or the test statistic in the output data.</p>
<p>This behaviour can be changed with <code class="docutils literal notranslate"><span class="pre">-p/--pvalue</span></code>, which causes the p-value to be included in the output, and <code class="docutils literal notranslate"><span class="pre">-s/--stat</span></code> which causes the test statistic to be included in the output.</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>gurita normtest --pvalue --stat &lt; iris.csv
</pre></div>
</div>
<p>The output of the above command is shown below:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>column,is_normal,p_value,stat
sepal_length,True,0.05682424941067306,5.735584236235733
sepal_width,True,0.1672407178723714,3.576642160069695
petal_length,False,8.677871269019617e-49,221.33178660723647
petal_width,False,1.991810150572055e-30,136.77701788227716
</pre></div>
</div>
</section>
<section id="choose-the-method-for-testing-normality">
<span id="normtest-method"></span><h2>Choose the method for testing normality<a class="headerlink" href="#choose-the-method-for-testing-normality" title="Permalink to this headline"></a></h2>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>-m {dagostino,shapiro}, --method {dagostino,shapiro}
</pre></div>
</div>
<p>By default <a class="reference external" href="https://en.wikipedia.org/wiki/D%27Agostino%27s_K-squared_test">D’Agostino’s K^2 test</a> is applied.
However, it is also possible to use the <a class="reference external" href="https://en.wikipedia.org/wiki/Shapiro%E2%80%93Wilk_test">Shapiro-Wilk test</a> instead.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">-m/--method</span></code> option allows the method to be specified, and can be either <code class="docutils literal notranslate"><span class="pre">dagostino</span></code> (the default) or <code class="docutils literal notranslate"><span class="pre">shapiro</span></code>.</p>
<p>The following example illustrates the use of the Shapiro-Wilk test:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>gurita normtest --method shapiro &lt; iris.csv
</pre></div>
</div>
<p>The output of the above command is shown below:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>column,is_normal
sepal_length,False
sepal_width,True
petal_length,False
petal_width,False
</pre></div>
</div>
<p>In this case we can see that under default parameters the <code class="docutils literal notranslate"><span class="pre">sepal_length</span></code> column is not considered normally distributed, whereas it was
using the D’Agostino’s K^2 test.</p>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="melt.html" class="btn btn-neutral float-left" title="melt" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="outlier.html" class="btn btn-neutral float-right" title="outlier" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p></p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>